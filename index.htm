<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Rate Your Code Online!</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet"
          href="http://coderate.github.io/assets/css/style.css?v=e04b70b5b76cf4d6fc358751084190ede7566430/assets/css/style.css?v=e04b70b5b76cf4d6fc358751084190ede7566430">
    <script
            src="https://code.jquery.com/jquery-1.12.4.min.js"
            integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
            crossorigin="anonymous"></script>
</head>
<body>
<style type="text/css">
    .color-red {
        color: red;
    }

    .color-orange {
        color: orange;
    }

    .color-green {
        color: #159957;
    }

    textarea {
        background: url(http://i.imgur.com/2cOaJ.png);
        background-attachment: local;
        background-repeat: no-repeat;
        padding-left: 35px;
        padding-top: 10px;
        border-color: #ccc;
        font-size: 13px;
        line-height: 1.3;
    }

    form button {
        color: gray !important;
        border-color: gray !important;
        margin: 0 30px;
    }
</style>
<section class="page-header">
    <h1 class="project-name">Code Rate Online</h1>
    <h2 class="project-tagline">Code-Reviewing Neural Network</h2>
</section>
<section class="main-content">
    <h2 id="welcome-to-github-pages">Past your code here to find out how good it is</h2>
    <form class="form-inline" id="code-sending-form">
        <div class="input-group" style="float:left; min-width: 80%">
                <textarea class="form-control custom-control" rows="25" style="resize:none;min-width: 100%"
                          name="data"></textarea>
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
        <div style="clear:both"></div>
    </form>
    <div id="result">
    </div>
    <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
    </footer>
</section>
<script type="text/javascript">
    $(document).ready(function () {
        $('#code-sending-form').on('submit', function (e) {
            e.preventDefault();
            $("#result").empty().append('Loading...');
            var formData = $(this).serialize();
            var posting = $.ajax({
                type: 'POST',
                url: 'http://213.169.92.41:5000',
                crossDomain: true,
                data: formData,
                dataType: 'json',
                success: function (data) {
                    var score = data.score * 100;
                    // Assuming score ranges from 0 to 1
                    var colorClasses = ['color-red', 'color-orange', 'color-green'];
                    var showScore = '<p>Score: <span class="' + colorClasses[(~~(score / 3 * 10)) - 1] + '">' + score + '</span></p>';
                    $("#result").empty().append(showScore);
                },
                error: function (responseData, textStatus, errorThrown) {
                    $("#result").empty().append('Error');
                }
            });
        });
    });
</script>
</body>
</html>
